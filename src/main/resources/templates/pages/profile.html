<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Login</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
</head>

<body>

	<!--This is the header component-->
	<section id="header">
		<div th:insert="components/header :: header" class=""></div>
	</section>

	<!--This is the main component-->
	<div class="container">
		<section id="main">

			<div class="row my-5">
				<form th:action="@{/profile}" th:object="${user}" method="post">

					<!-- Hidden User ID -->
					<input type="hidden" th:field="*{id}" />

					<div class="col-lg">
						<div class="card mb-3">
							<div class="card-body">

								<h4 class="mb-1">User Profile</h4>
								<div class="mb-5">
									<div class="row my-1">
										<div class="col-lg-2">
											<h6 class="mb-0">Email</h6>
										</div>
										<div class="col-lg-10">
											<input type="text" class="form-control" th:field="*{email}" required>
										</div>
									</div>

									<div class="row my-1">
										<div class="col-lg-2">
											<h6 class="mb-0">Name</h6>
										</div>
										<div class="col-lg-10">
											<input type="text" class="form-control" th:field="*{name}" required>
										</div>
									</div>

									<div class="row my-1">
										<div class="col-lg-2">
											<h6 class="mb-0">Username</h6>
										</div>
										<div class="col-lg-10">
											<input type="text" class="form-control" th:field="*{username}" required>
										</div>
									</div>

									<div class="row my-1">
										<div class="col-lg-2">
											<h6 class="mb-0">Password</h6>
										</div>
										<div class="col-lg-10">
											<input type="password" class="form-control" th:field="*{password}" required>
										</div>
									</div>

									<div class="row my-1">
										<div class="col-lg-2">
											<h6 class="mb-0">Role</h6>
										</div>
										<div class="col-lg-10">
											<input type="text" class="form-control" th:field="*{role}" required>
										</div>
									</div>
								</div>

								<div class="mb-5">
									<div class="mb-5" th:each="addr, iterStat : *{addresses}">
										<h4 class="mb-1">User Address [[${iterStat.index} + 1]]</h4>

										<div class="row my-1">
											<div class="col-lg-2">
												<h6 class="mb-0">Type</h6>
											</div>
											<div class="col-lg-10">
												<input type="text" class="form-control"
													th:field="*{addresses[__${iterStat.index}__].type}" required>
											</div>
										</div>
										<div class="row my-1">
											<div class="col-lg-2">
												<h6 class="mb-0">Street</h6>
											</div>
											<div class="col-lg-10">
												<input type="text" class="form-control"
													th:field="*{addresses[__${iterStat.index}__].street}" required>
											</div>
										</div>
										<div class="row my-1">
											<div class="col-lg-2">
												<h6 class="mb-0">City</h6>
											</div>
											<div class="col-lg-10">
												<input type="text" class="form-control"
													th:field="*{addresses[__${iterStat.index}__].city}" required>
											</div>
										</div>
										<div class="row my-1">
											<div class="col-lg-2">
												<h6 class="mb-0">State</h6>
											</div>
											<div class="col-lg-10">
												<input type="text" class="form-control"
													th:field="*{addresses[__${iterStat.index}__].state}" required>
											</div>
										</div>
									</div>
								</div>




								<div class="row">
									<button type="submit" class="btn btn-primary">Submit</button>
								</div>
							</div>
						</div>

				</form>
			</div>

		</section>

		<!-- Success message after registration -->
		<div th:if="${message}" class="alert alert-success">
			<p th:text="${message}"></p>
		</div>

		<!-- Error message on login failure -->
		<div th:if="${error}" class="alert alert-danger">
			<p th:text="${error}"></p>
		</div>


	</div>

	<!--This is the footer component-->
	<section id="footer">
		<div th:insert="components/footer :: footer" class=""></div>
	</section>

	<!--This is the script for bootstrap-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
		crossorigin="anonymous"></script>
</body>

</html>